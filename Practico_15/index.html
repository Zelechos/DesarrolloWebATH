<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practico 15</title>
    <link rel="stylesheet" type="text/css" href="estilo.css">
    <style>
        @import url('https://fonts.googleapis.com/css?family=Montserrat&display=swap');
    </style>
</head>
<body>
    <h1>Practico 15 AJAX</h1>
    <div id="Contenedor">
        <div id="Navegacion">
            <h2>Ingresa y Lista a tus Amigos</h2><br><br>
            <a class="Boton" id="B_Listar" href="javascript:Cargar('listar.php')">Listar</a><br><br><br>
            <a class="Boton1" id="B_Insertar" href="javascript:Cargar('insertar.html')">Insertar</a><br><br><br><br>
            <img  src="img/hacker.png"  width="256px" height="256px">
        </div>
        <div id="Contenido">
            <a href = "Conexion.php"></a>
            <img  src="img/i1.gif"  width="100%" height="100%">
        </div>

    </div>    
    <script>
        function Cargar(pagina){
            var ajax = new XMLHttpRequest();
            ajax.open("get", pagina, true);
            ajax.onreadystatechange = function(){
                if(ajax.readyState == 4){
                    document.getElementById("Contenido").innerHTML = ajax.responseText;
                }
            }
            ajax.setRequestHeader("Content-Type","text/html; charset=utf-8");
            ajax.send();
        }

        function Registrando(){
            
            var ajax = new XMLHttpRequest();
            var nombre = document.getElementById('Nombre').value;
            var apellido = document.getElementById('Apellido').value;

            var direccion = "Nombre="+ encodeURI(nombre) + "&Apellido=" + encodeURI(apellido) + "&nocache=" + Math.random();
            //alert(direccion);
            ajax.open("post", "Registrar.php", true);
            ajax.onreadystatechange = function(){
                if(ajax.readyState == 4){
                    document.getElementById("Contenido").innerHTML = ajax.responseText;
                }
            }
            ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
            ajax.send(direccion);
        }

        function Editar(id){
            
            var ajax = new XMLHttpRequest();

            var direccion = "ID="+ id + "&nocache=" + Math.random();
            //alert(direccion);
            ajax.open("post", "Editar.php", true);
            ajax.onreadystatechange = function(){
                if(ajax.readyState == 4){
                    document.getElementById("Contenido").innerHTML = ajax.responseText;
                }
            }
            ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
            ajax.send(direccion);

        }

        function Eliminar(id){
            
            var ajax = new XMLHttpRequest();

            var direccion = "ID="+ id + "&nocache=" + Math.random();
            //alert(direccion);
            ajax.open("post", "Eliminar.php", true);
            ajax.onreadystatechange = function(){
                if(ajax.readyState == 4){
                    document.getElementById("Contenido").innerHTML = ajax.responseText;
                }
            }
            ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
            ajax.send(direccion);
            
        }

    </script>
</body>
</html>